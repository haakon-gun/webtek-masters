
<!-- ONLY APPLE DEVELOPER PROGRAM ENROLLED APPLE IDS CAN BE USED TO GENERATE TOKENS-->
<!-- THAT COSTS MONEY. MAPKIT JS IS THEREFORE NOT AN OPTION -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <script src="https://cdn.apple-mapkit.com/mk/5.x.x/mapkit.js"></script>

    <style>
        #map {
            width: 1000px;
            height: 600px;
            margin: auto;
        }
    </style>

    <title>AMJSE example</title>
  </head>

  <body>
    <div id="map"></div>

    <script>
      mapkit.init({
          authorizationCallback: function(done) {
              var xhr = new XMLHttpRequest();
              xhr.open("GET", "/services/jwt");
              xhr.addEventListener("load", function() {
                  done(this.responseText);
              });
              xhr.send();
          }
      });

      var Cupertino = new mapkit.CoordinateRegion(
          new mapkit.Coordinate(37.3316850890998, -122.030067374026),
          new mapkit.CoordinateSpan(0.167647972, 0.354985255)
      );
      var map = new mapkit.Map("map");
      map.region = Cupertino;
    </script>
  </body>
</html>
